{"version":2,"kind":"Notebook","sha256":"745751f5b9f130826896ca80050398f8965471f77b814cc269c546cd1f02988c","slug":"notebooks.example-workflows.buoy-wave-height","location":"/notebooks/example-workflows/buoy-wave-height.ipynb","dependencies":[],"frontmatter":{"title":"Buoys and Wave(let)s","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/wavelet-cookbook","copyright":"2024","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/projectpythia/wavelet-cookbook/blob/main/notebooks/example-workflows/buoy-wave-height.ipynb","edit_url":"https://github.com/projectpythia/wavelet-cookbook/edit/main/notebooks/example-workflows/buoy-wave-height.ipynb","thumbnail":"/wavelet-cookbook/build/7f0581cd4006874733e47989291d922b.gif","exports":[{"format":"ipynb","filename":"buoy-wave-height.ipynb","url":"/wavelet-cookbook/build/buoy-wave-height-c1b9bb5bfd8fb6bae986cf7652278895.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","children":[{"type":"image","url":"/wavelet-cookbook/build/7f0581cd4006874733e47989291d922b.gif","alt":"Animation for a deep water wave","key":"z5lo8xbBfE","urlSource":"https://upload.wikimedia.org/wikipedia/commons/7/74/Animation_for_a_deep_water_wave.gif"}],"key":"xDMPKae10T"}],"key":"dY3MFnkiwt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Buoys and Wave(let)s","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tGNxvJHpQ6"}],"identifier":"buoys-and-wave-let-s","label":"Buoys and Wave(let)s","html_id":"buoys-and-wave-let-s","implicit":true,"key":"O88E0cS4xE"}],"key":"mRzQ9UAbms"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aXUZgYexTW"}],"key":"iopMqfMAsh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DezKs5wb3E"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"ndCbzTIz52"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Generating a wavelet power spectrum from the time-series data of ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YjKPzX3MAu"},{"type":"link","url":"https://www.ndbc.noaa.gov/station_history.php?station=44013","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"wave heights collected from buoy station 44013","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EkwlOxZk0l"}],"urlSource":"https://www.ndbc.noaa.gov/station_history.php?station=44013","key":"dM5m15ksQy"},{"type":"text","value":" east of Boston","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NeWR3ku54n"}],"key":"OQdHDWsEzp"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Prerequisties","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f8UaLaqawv"}],"key":"SnAck1TieF"}],"key":"BPGrgOUcB6"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Background","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"LwxHdLRN4a"}],"key":"u5tHExyWyh"}],"key":"qrBJge0dKD"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Download and Organize Buoy Data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vv4gGW2jpD"}],"key":"JOoP491zGE"}],"key":"sEfEGQCjyf"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Wavelet Input Values","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TxkOj2AC9M"}],"key":"HeFy0nBMVU"}],"key":"OTfhk9WrPo"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"PyWavelets","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UWy6zoeYP5"}],"key":"mYlj1S5wU5"}],"key":"cmh8CtEEwn"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Power Spectrum","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EtRYrxFrVq"}],"key":"gKYcdydu3L"}],"key":"Upp5QsYCjA"}],"key":"Za1Eg9sNIV"}],"key":"f43v90OcBu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P7OLu3xOcs"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"AL0Qkq25kx"},{"type":"table","position":{"start":{"line":2,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gUMVmcJ0Xu"}],"key":"SiNlBXg0V2"},{"type":"tableCell","header":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"FNql65LSMf"}],"key":"JGy095VHbz"},{"type":"tableCell","header":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QR5KuKsWwE"}],"key":"MWMT53UzvK"}],"key":"H4MngXY1y6"},{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/matplotlib/matplotlib-basics","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Intro to Matplotlib","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"aBbuBUhoGM"}],"urlSource":"https://foundations.projectpythia.org/core/matplotlib/matplotlib-basics","key":"HovWJx8PcZ"}],"key":"LcSJklHtEa"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"MzdUOM0hal"}],"key":"yXW2rxqFTw"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Used to plot data","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"sEeeMGZuQl"}],"key":"oOOcmvF8tY"}],"key":"TsmN40sElQ"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/numpy/numpy-basics","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Intro to Numpy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Q8t3fQB6Gp"}],"urlSource":"https://foundations.projectpythia.org/core/numpy/numpy-basics","key":"OcEjJK9iwz"}],"key":"e2zogU0kCP"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IekmVgg46H"}],"key":"YaPsLHpPvL"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Used to work with large arrays","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IaQY56AFUn"}],"key":"ndUrrM6Kgl"}],"key":"jDsMOvJdCj"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/datetime","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Intro to Datetimes","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ho6va5fGry"}],"urlSource":"https://foundations.projectpythia.org/core/datetime","key":"N4xfEnAXZj"}],"key":"xYw7pArGS0"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"N5mGJa7hup"}],"key":"pqLnIil6WO"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Useful to understand strings vs. datetimes","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"rsTDIwSHUx"}],"key":"bS0TAPW68X"}],"key":"nZqkwHzIC3"}],"key":"keijHbheJE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Eo68m8NuLb"}],"key":"eHxHaJsZnF"},{"type":"text","value":": 35 minutes","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bESskEGZE9"}],"key":"o5TDu7wbob"}],"key":"kUpOv3Mr2y"}],"key":"h9Csh7Jfg6"}],"key":"NOaDiwGwQm"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X5VjP4LIVy"}],"key":"Qw6ZfBYl1h"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Background","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UN8c0ZSJOr"}],"identifier":"background","label":"Background","html_id":"background","implicit":true,"key":"ZXkGhC3rqi"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Buoys float on the surface of water, and while they can serve many purposes, research facilities like NOAA’s ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zNlw9hDN5h"},{"type":"link","url":"https://www.ndbc.noaa.gov/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"National Data Buoy Center","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"W7utBhCwBv"}],"urlSource":"https://www.ndbc.noaa.gov/","key":"sVFCPqQMNC"},{"type":"text","value":" provide real-time and historical data about waves and climate on the ocean and within lakes from hundreds of buoys around the world.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UHRiZRDEN2"}],"key":"DN5pkZwG5C"},{"type":"image","url":"/wavelet-cookbook/build/buoy-world-map-cf44dfa64af7fb796b96da5b0f46f420.png","alt":"buoy-world-map","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"owedfDlWVN","urlSource":"../images/buoy-world-map.png"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Each buoy has been in service for a variety of years and collects different information. ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FLw0C3qR5m"},{"type":"link","url":"https://www.ndbc.noaa.gov/station_page.php?station=44013","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Buoy 44013","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"I0U4KguWGX"}],"urlSource":"https://www.ndbc.noaa.gov/station_page.php?station=44013","key":"Z4w5MDefOP"},{"type":"text","value":" is off the coast of Boston in the Massachusetts Bay and reports information about the wind speed and direction, atmospheric pressure, air temperature, dew point, water temperature, and wave height throughout the year.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"JXGQynA93K"}],"key":"F6CLPgnKFQ"},{"type":"table","position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Location","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XaAdjhkQyx"}],"key":"dYSjVOIpiZ"},{"type":"tableCell","header":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Buoy","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"z3W6vMUrsq"}],"key":"v4HxkyzbuP"}],"key":"FA2kUHyvrr"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"image","url":"/wavelet-cookbook/build/buoy-station-6824206c19d7a2d606dd3955fccba0f8.png","alt":"buoy-station","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"nVyrhojnK2","urlSource":"../images/buoy-station.png"}],"key":"K045uopvHn"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"image","url":"/wavelet-cookbook/build/c19cfd13fc5198ba4e7ee50c8106b762.jpeg","alt":"buoy-example","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"IWslnFthv8","urlSource":"https://www.ndbc.noaa.gov/images/stations/2_1m_ionomer_foam_mini.jpg"}],"key":"obWfc9uQU6"}],"key":"I9yC4lxeE3"}],"key":"Esh5pzAUS6"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"44013 is owned and operated by the National Data Buoy Center and measures a depth of 64.6 meters and has a watch circle radius of 122 yards, with standard meterological data dating back to 1984.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"aA5EKB2Dtt"}],"key":"M2e45GvUNH"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Example ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"xUYEskRMaz"},{"type":"link","url":"https://www.ndbc.noaa.gov/buoycams.shtml","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Buoy Camera","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"uk8px0GN4N"}],"urlSource":"https://www.ndbc.noaa.gov/buoycams.shtml","key":"TZNygGW5Un"},{"type":"text","value":" Photos from April 7, 2025:","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"u0DMnwtcJ7"}],"key":"HkNpjq4ewN"},{"type":"image","url":"/wavelet-cookbook/build/Z03A_2025_04_07_1910-eb1ae4e8f77e6def778ece73fe4f9072.png","alt":"buoy-camera","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"fKUPJxwIRC","urlSource":"../images/Z03A_2025_04_07_1910.png"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"And a photo from today:","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"vnbaD17rE8"}],"key":"O15QGAm5Eq"},{"type":"image","url":"/wavelet-cookbook/build/8d62103552f6a1eae72e75a618bf395c.jpeg","alt":"buoy-camera","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"U8oshdDLpc","urlSource":"https://www.ndbc.noaa.gov/buoycam.php?station=44013"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"For this notebook, we will be investigating the wave height of the buoy across two years in the early 2000’s","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"ed1DPJyiYL"}],"key":"eUAhifs8OC"}],"key":"BDuidPAhVs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KYcLHaGaL6"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"cawSiaSi23"}],"key":"ckgUoOutRZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np                          # working with arrays\nimport matplotlib.pyplot as plt             # plot data\nimport datetime                             # converting strings to datetime objects\nimport requests                             # retrieve data from text on a website\n\nimport pywt                                 # PyWavelets","key":"DQlSSbLqMp"},{"type":"output","id":"RICbovzrrOwAzx3As7WfP","data":[],"key":"zOx8AEz8Mi"}],"key":"VIOIaR5BOE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access Buoy Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IpRLWw51Jj"}],"identifier":"access-buoy-data","label":"Access Buoy Data","html_id":"access-buoy-data","implicit":true,"key":"sGxnNAtqT9"}],"key":"SU4gwS64fS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First, we will need to download the relevant data from NOAA National Data Buoy Center. For this notebook, we will be investigating wave height data from 2001 to 2002.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QIHtpL4sOO"}],"key":"cE1ikPBnLg"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The buoy contains more information than just wave height, so we will save only data relevant to the date and time and the wave height. So, the columns we need to keep are  date, time (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DF91mp4hBB"},{"type":"inlineCode","value":"YY","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Skkowh5qd6"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fZW1H9XylH"},{"type":"inlineCode","value":"MM","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"n7qoraDVHK"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"P2RXkbL7GW"},{"type":"inlineCode","value":"DD","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Nc0pFCiay5"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pkz7HbKJkp"},{"type":"inlineCode","value":"hh","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oKooPzYMUM"},{"type":"text","value":"), and wave height (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vPNIMmMdQu"},{"type":"inlineCode","value":"WVHT","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sVfSyYoYJn"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OEih4hOGNU"}],"key":"lix4DxjTyr"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will iterate through the years to save and concatenate the data into a single large array.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"te2xHH8IF8"}],"key":"HtLbVPowdp"}],"key":"vMG5BENQGK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"years = [2001, 2002]\ndate_times = np.array([])\nwave_height = np.array([])\nfor i, year in enumerate(years):\n\n    # collect data from NOAA Buoy link\n    data_link = f\"https://www.ndbc.noaa.gov/view_text_file.php?filename=41001h{year}.txt.gz&dir=data/historical/stdmet/\"\n    data_req = requests.get(data_link)\n    data_txt = data_req.text\n    data = np.genfromtxt(data_txt.splitlines(), comments=None, dtype='str')\n\n    # Find the index for datetime and wave height information\n    datetime_index = np.where(data[0] == \"hh\")[0][0]\n    wave_height_index = np.where(data[0] == \"WVHT\")[0][0]\n    \n    # collect data from all rows for the columns of datetime and wave height\n    # [1:] skips the first row with header information\n    date_time = data[:,:datetime_index+1][1:]\n    data_wave_height = data[:,wave_height_index][1:] \n\n    # Converts the string data collected from the source to a float\n    data_wave_height = data_wave_height.astype(float)\n\n    # Concatenate all data into a single array\n    if i == 0:\n        date_times = date_time\n        wave_height = data_wave_height\n    else:\n        date_times = np.concatenate([date_times, date_time])\n        wave_height = np.concatenate([wave_height, data_wave_height])","key":"A2I2hS6OrJ"},{"type":"output","id":"WYn5w1gU7_h37I30W7hlY","data":[],"key":"eoI0pgDOcX"}],"key":"uFb6ri3QMF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Clean Up Wave Height data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VFvQ73SnQe"}],"identifier":"clean-up-wave-height-data","label":"Clean Up Wave Height data","html_id":"clean-up-wave-height-data","implicit":true,"key":"v9hlXfAayc"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Buoys stores ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sQDYf1DuEK"},{"type":"inlineCode","value":"null","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gizzye7Ut4"},{"type":"text","value":" as ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"J7mKXa2HPC"},{"type":"inlineCode","value":"99.00","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WWnDX2aPqd"},{"type":"text","value":", so to remove this outlier, we will need to replace 99.00 with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UyiJzq3Ckr"},{"type":"inlineCode","value":"np.nan","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AiAm8H88Ug"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JpApffZMPB"}],"key":"pVJwplw0js"}],"key":"ULmJ1E6nD5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f\"Max wave height before applying nan = {max(wave_height)} m\")\nwave_height = np.where(wave_height == 99.00, np.nan, wave_height)\nprint(f\"Max wave height after applying nan  = {max(wave_height)} m\")","key":"UX6nHp1tyi"},{"type":"output","id":"723hsPdC4BAQaCw96_4JG","data":[{"output_type":"stream","name":"stdout","text":"Max wave height before applying nan = 99.0 m\nMax wave height after applying nan  = 9.38 m\n"}],"key":"ahq6vACJ2L"}],"key":"HVZrbtEmJc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Time to Datetimes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nZ0d03hLnp"}],"identifier":"convert-time-to-datetimes","label":"Convert Time to Datetimes","html_id":"convert-time-to-datetimes","implicit":true,"key":"wSndKQboTM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Buoys store datetime information as separate columns of data with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RKYUm9L7zD"},{"type":"inlineCode","value":"YYYY","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"k4cgBrpQiK"},{"type":"text","value":" ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fMGc7aJ60V"},{"type":"inlineCode","value":"MM","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dXyiwuHZYi"},{"type":"text","value":" ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nZcd9v8ODL"},{"type":"inlineCode","value":"DD","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RN84YLMESe"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"R7Ocer0adu"},{"type":"inlineCode","value":"HH","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"R6ezMhVrBG"},{"type":"text","value":". For Python to recognize these strings as a date, we need to combine the strings into a single datetime value.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Qv6VnrR33s"}],"key":"qIdEdXytIi"}],"key":"nxcUXkawym"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dates = []\nfor date in date_times:\n    # combine each separate column into a single string: YYYYMMDDHH\n    date_string = \"\".join(date)\n    # convert string to a datetime object\n    dates.append(datetime.datetime.strptime(date_string, \"%Y%m%d%H\"))\ndates = np.array(dates)\nprint(f\"First Date = {dates[0]}\")\nprint(f\"Last Date  = {dates[-1]}\")","key":"s8HOvz3axj"},{"type":"output","id":"t7s43JNSpfQJotX-4Hr7w","data":[{"output_type":"stream","name":"stdout","text":"First Date = 2001-01-01 00:00:00\nLast Date  = 2002-12-17 20:00:00\n"}],"key":"jxN4exsSG8"}],"key":"SRaJMDMH0K"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot and View Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BX0w7ROTLD"}],"identifier":"plot-and-view-data","label":"Plot and View Data","html_id":"plot-and-view-data","implicit":true,"key":"jGORdUMsqc"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s give the data a look! Wave height is recorded in meters throughout the year.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EBSUNIkj4O"}],"key":"eBV5ZWaHtc"}],"key":"p775VUSmFO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(10, 10))\nplt.title(\"Wave Height on Station 44013\")\nplt.xlabel(\"Date\")\nplt.xticks(rotation=90)\nplt.ylabel(\"Wave Height (meters)\")\nplt.plot(dates, wave_height)\nplt.show()","key":"WYNxRMjwdF"},{"type":"output","id":"1AeB5BXsy9z_5uHsNpikC","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x1000 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"b238e109538b64048c9182c608eedcfa","path":"/wavelet-cookbook/build/b238e109538b64048c9182c608eedcfa.png"}}}],"key":"OAknRw7Qxf"}],"key":"lYRV8zG61l"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Wavelet Input Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fHqurJC6aI"}],"identifier":"wavelet-input-values","label":"Wavelet Input Values","html_id":"wavelet-input-values","implicit":true,"key":"WBxD5mBbOj"}],"key":"j0KmR5sRFa"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Wavelet inputs include:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rDXaPLIfbT"}],"key":"tlBtqehUbm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"x: Input time-series data (for example, the time and wave height of data)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xTDj9EcNcQ"}],"key":"GaxEGK90AI"}],"key":"Te8ZKBKvaU"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"wavelet: mother wavelet name","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iASqsPi4or"}],"key":"vCDCqk2JYs"}],"key":"rI47yiCcvQ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"dt: sampling period (time between each y-value) for time range","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OtLA7lkOj5"}],"key":"ilNQIhsCQB"}],"key":"kfxhasYIAh"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"s0: smallest scale","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"eEMpKt9Ikv"}],"key":"BXdfehqUKn"}],"key":"AKL04Q9uXJ"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"dj: spacing between each discrete scales","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ShAh6jX0xD"}],"key":"GBWBSwB3gL"}],"key":"gIAjt8ARXM"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"jtot: largest scale","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZBLJmjDO6e"}],"key":"djg2OGtjxx"}],"key":"sL80QNA0L0"}],"key":"jqQUVGFwAV"}],"key":"nrSri7V8s4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dt = 3600   # sampling period (time between each y-value) ->  seconds in an hour\ns0 = 0.25   # smallest scale\ndj = 0.25   # spacing between each discrete scales\njtot = 64   # largest scale","key":"q7Cs59ce8f"},{"type":"output","id":"4wpYT0wqBEuq7UpACwfiu","data":[],"key":"KkXZm5yDjb"}],"key":"uIJf7EgeBm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For this example, we will be using a complex Morlet with a bandwidth of 1.5 and a center frequency of 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GHHkybFA6w"}],"key":"iWou8zZtgj"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aTL8iD2EM2"}],"key":"dnW5HSxM3O"}],"key":"Ag1W32AMvB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"bandwidth = 1.5\ncenter_freq = 1\nwavelet_mother = f\"cmor{bandwidth}-{center_freq}\"\nprint(wavelet_mother)","key":"amnKPO1xtu"},{"type":"output","id":"vMFN0KKQhW8z9_IrcitG2","data":[{"output_type":"stream","name":"stdout","text":"cmor1.5-1\n"}],"key":"cndCMmRumx"}],"key":"TpWAm1iww3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Applying Wavelets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UWNqz6jOaX"}],"identifier":"applying-wavelets","label":"Applying Wavelets","html_id":"applying-wavelets","implicit":true,"key":"mzp6sOnZ2W"}],"key":"bDpO25Jv3F"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"scales = np.arange(1, jtot + 1, dj)\nwavelet_coeffs, freqs = pywt.cwt(\n    data=wave_height, scales=scales, wavelet=wavelet_mother, sampling_period=dt\n)","key":"r4gmMagmoy"},{"type":"output","id":"oD3COk7vB7GBuhXEupLtF","data":[],"key":"TkZBf1PrM6"}],"key":"IWK5cgbuS5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Power Spectrum","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DQI9hPMVcT"}],"identifier":"power-spectrum","label":"Power Spectrum","html_id":"power-spectrum","implicit":true,"key":"DbVEhpSRK8"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The power spectrum is the real component of the wavelet coefficients. We can find this value by squaring the absolute value of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"xbFGiKLZcA"},{"type":"inlineCode","value":"wavelet_coeffs","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ac17T3C6iS"},{"type":"text","value":" to return the magnitude of the real component to make a better graph.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EfKAVM6BtN"}],"key":"YVYYEGSH45"}],"key":"LzYbDjI3h3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"power = np.power((abs(wavelet_coeffs)), 2)\n\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot Scalogram\nplt.imshow(\n    power, vmax=(power).max(), vmin=(power).min(), aspect=\"auto\"\n)\n\n# Plot X-Axis with Date Labels and Ticks Monthly\nnum = 730 # hours in a month\nx_ticks = range(0, len(dates), num)\nx_ticklabels = []\nfor date in dates[::num]:\n    x_ticklabels.append(str(date)[:-9])\nplt.xticks(ticks=x_ticks, labels=x_ticklabels,rotation=90)\n\nplt.title(\"Buoy Height at Station 44013\")\nplt.xlabel(\"Date (Hours)\")\nplt.ylabel(\"Scale\")\nplt.colorbar()\nplt.show()","key":"NOrrcrbzZ9"},{"type":"output","id":"-delYtVUHIY-x7hc0V0rn","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x1000 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"0162776c3ae127b5e26d46a1b984a8f5","path":"/wavelet-cookbook/build/0162776c3ae127b5e26d46a1b984a8f5.png"}}}],"key":"y3MbUsTdlV"}],"key":"nTVi77CLx3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What Went Wrong?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F6oVdArYdK"}],"identifier":"what-went-wrong","label":"What Went Wrong?","html_id":"what-went-wrong","implicit":true,"key":"GEJfoQWr36"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The current wavelet has a lot of blank space that is confusing the wavelet analysis. This is the result of the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TaqG1gZwZU"},{"type":"inlineCode","value":"nan","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nOPrvyIybo"},{"type":"text","value":" values, where data was no included, but is still being used in the calculation. So, to get a complete wavelet, we should filter out the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FrkNihBahW"},{"type":"inlineCode","value":"nan","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QdEHzoRi4P"},{"type":"text","value":" values ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x8Is22XqVp"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"before","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lxmCrpwU08"}],"key":"KKDQ3ctxLl"},{"type":"text","value":" we apply a wavelet.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nSByuWz1zu"}],"key":"BdWrBa7y82"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will fix this by applying a mask to all the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PkBe3y31y5"},{"type":"inlineCode","value":"nan","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"NeZ7TrYVfl"},{"type":"text","value":" values, and then interpolating between to fill out the remaining data.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tPOxXh2GlQ"}],"key":"ehlZYH6Lie"}],"key":"W4OSlZUYSJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"wave_len = np.arange(len(wave_height))\nmask = np.isfinite(wave_height)\nxfiltered = np.interp(wave_len, wave_len[mask], wave_height[mask])","key":"OpwdelUL3A"},{"type":"output","id":"gHZ1vEpdkQE07VpqHDowe","data":[],"key":"UjpEkrYUUc"}],"key":"IXHhrit4ck"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Time to get our ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cFddbEjbWV"},{"type":"inlineCode","value":"wavelet_coeffs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U7509ynlNz"},{"type":"text","value":" from the newly filtered data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XhdsWOoqQm"}],"key":"TCuXJmbPhJ"}],"key":"CRoiJ65tLR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"scales = np.arange(1, jtot + 1, dj)\nwavelet_coeffs, freqs = pywt.cwt(\n    data=xfiltered, scales=scales, wavelet=wavelet_mother, sampling_period=dt\n)","key":"En7xxFZzpl"},{"type":"output","id":"NNSR0gbIX10h9l5mKDYMM","data":[],"key":"Y6E9yCs7oz"}],"key":"YDt7PyOX5m"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Power Spectrum, Take Two","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UawRcEdvW3"}],"identifier":"power-spectrum-take-two","label":"Power Spectrum, Take Two","html_id":"power-spectrum-take-two","implicit":true,"key":"LhTsd2OxLB"}],"key":"lzExuAYCvv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"power = np.power((abs(wavelet_coeffs)), 2)\n\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot Scalogram\nplt.imshow(\n    power, vmax=(power).max(), vmin=(power).min(), aspect=\"auto\"\n)\n\n# Plot X-Axis with Date Labels and Ticks Monthly\nnum = 730 # hours in a month\nx_ticks = range(0, len(dates), num)\nx_ticklabels = []\nfor date in dates[::num]:\n    x_ticklabels.append(str(date)[:-9])\nplt.xticks(ticks=x_ticks, labels=x_ticklabels,rotation=90)\n\nplt.title(\"Buoy Height at Station 44013\")\nplt.xlabel(\"Date (Hours)\")\nplt.ylabel(\"Scale\")\nplt.colorbar()\nplt.show()","key":"FGf7fIb9Cw"},{"type":"output","id":"xSKKlcGX-2dU7NxyulvPf","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x1000 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"54234b2ade34b15e0e00b48855bcc9cb","path":"/wavelet-cookbook/build/54234b2ade34b15e0e00b48855bcc9cb.png"}}}],"key":"hsc26h6ACb"}],"key":"iJxTEtAMVV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s more like it!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mhdcw60Qqk"}],"key":"lFdyh0YlU7"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now, the x-axis describes the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ERFbyf0VjL"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"when","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hDbrQAPDpY"}],"key":"ineWaLxKed"},{"type":"text","value":" and the y-axis describes the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oMQfrBbbaT"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"what","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hHzVqTVxQq"}],"key":"VkjVyuvyva"}],"key":"zojTp7DW33"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"X axis describes when wind is present and causing waves","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RD1tRpFZGs"}],"key":"D9hjDyYmA0"}],"key":"SQ5jZsh8yc"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Y axis describes the range of wave periods needed to make the signal that is present. There is a large range when waves are detected, which is expected since wind excites many frequencies of waves on the surface when it blows","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ZcHVqooFG3"}],"key":"ESv0Lq29Jg"}],"key":"jYOFIfWQPk"}],"key":"R4Qul9kiXF"}],"key":"KqjmRTLvWn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Conclusions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DDXmNUMLb1"}],"identifier":"conclusions","label":"Conclusions","html_id":"conclusions","implicit":true,"key":"JhD1hzbeNC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The power spectrum above demonstrates a strong peak (in yellow) within the first month of the year. During this time of year, the wave activity is high and across a wide range of frequencies. This wavelet is demonstrating when wave activity is highest and the range of wave heights is widest.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NXjUZMZc1u"}],"key":"rBHtdiqGxV"}],"key":"Y8vfkyBnp7"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OF21UQ4RVb"}],"key":"WStoXlo6PY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nZzVCV0Oy5"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"Y7QSQnyxpw"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Wavelet analysis can be applied across a wide range of data, as long as there is a time-series data. Buoys returns a large range of possible data, but for this example we explored how wave heights vary throughout the year. There is a large amount of wave activity in very short intervals at the beginning of the year, but the wave heights vary over a large range of possible frequencies.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Bdnb4RUx2p"}],"key":"qmCdVge8BT"},{"type":"heading","depth":3,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"What’s next","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yp42jFakEI"}],"identifier":"whats-next","label":"What’s next","html_id":"whats-next","implicit":true,"key":"MGlNjJFE5x"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://pywavelets.readthedocs.io/en/latest/regression/index.html","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Learn how more about PyWavelets","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"u0TD6TA8UA"}],"urlSource":"https://pywavelets.readthedocs.io/en/latest/regression/index.html","key":"ooRYGK1bxr"}],"key":"Aa8D5eVh04"}],"key":"bYIjNPYoAL"}],"key":"E2y8qnFGHW"}],"key":"vCTchLTIJc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TUptcurLY5"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"tCRHIQJQuh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://www.ndbc.noaa.gov/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"NOAA National Data Buoy Center","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WcBGt0shFk"}],"urlSource":"https://www.ndbc.noaa.gov/","key":"f8ToAM11I0"}],"key":"kGsURPWYpe"}],"key":"mZE57I7awk"}],"key":"GLl6XYfacZ"}],"key":"xXsGG3HB2M"}],"key":"IgmFQUWDjr"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Atmospheric Data: Nino 3 SST Index","url":"/notebooks/example-workflows/nino3","group":"Geoscience Workflows"}}},"domain":"http://localhost:3000"}